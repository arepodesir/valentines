---
import Layout from "../layouts/Layout.astro";
import { getAllLetters } from "../lib/letters";

const letters = getAllLetters();
---

<Layout
    title="Love Letters üíå ‚Äî Open Source Shareable Love Messages"
    showNav={true}
>
    <main class="min-h-screen pt-16">
        <!-- Hero -->
        <header class="py-16 sm:py-24 px-4 sm:px-6 text-center">
            <div class="max-w-2xl mx-auto">
                <div class="text-5xl sm:text-6xl mb-6">üíå</div>
                <h1
                    class="font-display text-3xl sm:text-5xl md:text-6xl font-bold text-pink-100 mb-5 leading-tight"
                    style="text-shadow: 0 2px 30px rgba(244,63,94,0.2);"
                >
                    Love Letters
                </h1>
                <p
                    class="text-base sm:text-lg text-pink-300/60 mb-3 leading-relaxed max-w-md mx-auto"
                >
                    Create beautiful 3D animated love messages and share them
                    with anyone, anywhere.
                </p>
                <p class="text-sm text-pink-400/40 mb-8 font-mono">
                    open source ¬∑ fully static ¬∑ zero cost
                </p>
                <div class="flex flex-col sm:flex-row gap-3 justify-center">
                    <a
                        href="https://github.com/arepodesir/open-valentines#creating-your-valentine"
                        target="_blank"
                        rel="noopener"
                        class="px-6 py-3 rounded-full font-medium text-sm sm:text-base transition-all duration-300 hover:scale-105 text-center"
                        style="background: linear-gradient(135deg, #e11d48, #f472b6); color: white; box-shadow: 0 4px 20px rgba(225,29,72,0.3);"
                    >
                        Create a Letter ‚ú®
                    </a>
                    <a
                        href="/docs/schema"
                        class="px-6 py-3 rounded-full font-medium text-sm sm:text-base transition-all duration-300 hover:scale-105 text-center"
                        style="background: rgba(244,114,182,0.1); color: #f9a8d4; border: 1px solid rgba(244,114,182,0.2);"
                    >
                        Read the Docs
                    </a>
                </div>
            </div>
        </header>

        <!-- What it is -->
        <section class="py-12 sm:py-16 px-4 sm:px-6 border-t border-pink-500/8">
            <div class="max-w-3xl mx-auto">
                <h2
                    class="font-display text-xl sm:text-2xl font-bold text-pink-200 mb-8 text-center"
                >
                    How It Works
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6">
                    <div
                        class="p-5 sm:p-6 rounded-2xl text-center"
                        style="background: rgba(244,114,182,0.04); border: 1px solid rgba(244,114,182,0.08);"
                    >
                        <div class="text-2xl sm:text-3xl mb-3">üìù</div>
                        <h3 class="font-bold text-pink-200 text-sm mb-2">
                            1. Write a <code class="text-pink-400">.conf</code>
                        </h3>
                        <p class="text-xs text-pink-300/50 leading-relaxed">
                            Names, message, theme, music ‚Äî all in a simple INI
                            file.
                        </p>
                    </div>
                    <div
                        class="p-5 sm:p-6 rounded-2xl text-center"
                        style="background: rgba(244,114,182,0.04); border: 1px solid rgba(244,114,182,0.08);"
                    >
                        <div class="text-2xl sm:text-3xl mb-3">üîÄ</div>
                        <h3 class="font-bold text-pink-200 text-sm mb-2">
                            2. Open a PR
                        </h3>
                        <p class="text-xs text-pink-300/50 leading-relaxed">
                            Add your letter to <code
                                class="text-pink-400 text-xs"
                                >public/letters/</code
                            >. Auto-deploys on merge.
                        </p>
                    </div>
                    <div
                        class="p-5 sm:p-6 rounded-2xl text-center"
                        style="background: rgba(244,114,182,0.04); border: 1px solid rgba(244,114,182,0.08);"
                    >
                        <div class="text-2xl sm:text-3xl mb-3">üíï</div>
                        <h3 class="font-bold text-pink-200 text-sm mb-2">
                            3. Share the link
                        </h3>
                        <p class="text-xs text-pink-300/50 leading-relaxed">
                            Get a unique URL. Share via Twitter, WhatsApp, text,
                            anywhere.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick start -->
        <section class="py-12 sm:py-16 px-4 sm:px-6 border-t border-pink-500/8">
            <div class="max-w-3xl mx-auto">
                <h2
                    class="font-display text-xl sm:text-2xl font-bold text-pink-200 mb-6 text-center"
                >
                    Quick Start
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <p
                            class="text-xs text-pink-400/60 font-mono uppercase tracking-wider mb-3"
                        >
                            Minimal letter
                        </p>
                        <pre
                            class="p-4 rounded-xl text-xs leading-relaxed overflow-x-auto"
                            style="background: rgba(10,3,15,0.8); border: 1px solid rgba(244,114,182,0.08);"><code class="text-pink-200/70"><span class="text-pink-400">[card]</span>
from = Your Name
to = Their Name
message = <span class="text-amber-300">"I love you"</span>

<span class="text-pink-400">[finale]</span>
message = <span class="text-amber-300">"Forever Yours"</span></code></pre>
                    </div>
                    <div>
                        <p
                            class="text-xs text-pink-400/60 font-mono uppercase tracking-wider mb-3"
                        >
                            Then
                        </p>
                        <pre
                            class="p-4 rounded-xl text-xs leading-relaxed overflow-x-auto"
                            style="background: rgba(10,3,15,0.8); border: 1px solid rgba(244,114,182,0.08);"><code class="text-pink-200/70"><span class="text-pink-400/50">$</span> openssl rand -hex 2
<span class="text-emerald-400">a3f8</span>

<span class="text-pink-400/50">$</span> cp letter.conf public/letters/name-a3f8.conf
<span class="text-pink-400/50">$</span> git add . && git commit && git push
<span class="text-pink-400/50">$</span> <span class="text-pink-300/40"># open a PR ‚Üí auto-deploys!</span></code></pre>
                    </div>
                </div>
                <div class="mt-6 text-center">
                    <a
                        href="/docs/schema"
                        class="text-sm text-pink-400/60 hover:text-pink-300 transition-colors"
                    >
                        Full schema reference ‚Üí
                    </a>
                </div>
            </div>
        </section>

        <!-- Letters gallery -->
        <section class="py-12 sm:py-16 px-4 sm:px-6 border-t border-pink-500/8">
            <div class="max-w-4xl mx-auto">
                <div class="flex items-center justify-between mb-8">
                    <h2
                        class="font-display text-xl sm:text-2xl font-bold text-pink-200"
                    >
                        Letters <span
                            class="text-pink-400/30 text-sm font-mono ml-2"
                            >({letters.length})</span
                        >
                    </h2>
                </div>

                {
                    letters.length === 0 ? (
                        <div
                            class="text-center py-16"
                            style="border: 1px dashed rgba(244,114,182,0.15); border-radius: 16px;"
                        >
                            <p class="text-pink-300/40 text-sm">
                                No letters yet. Be the first to submit one!
                            </p>
                        </div>
                    ) : (
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4">
                            {letters.map((letter) => (
                                <a
                                    href={`/${letter.slug}`}
                                    class="group p-4 sm:p-5 rounded-xl transition-all duration-300 hover:scale-[1.02] active:scale-[0.98]"
                                    style="background: rgba(244,114,182,0.04); border: 1px solid rgba(244,114,182,0.08);"
                                >
                                    <div class="flex items-start justify-between mb-2">
                                        <span class="text-xl">üíå</span>
                                        <span
                                            class="text-[10px] font-mono text-pink-400/30 px-1.5 py-0.5 rounded-full"
                                            style="background: rgba(244,114,182,0.08);"
                                        >
                                            #{letter.hash}
                                        </span>
                                    </div>
                                    <h3 class="font-bold text-pink-100 text-sm sm:text-base group-hover:text-white transition-colors">
                                        For {letter.to}
                                    </h3>
                                    <p class="text-xs text-pink-300/40 mt-0.5">
                                        From {letter.from}
                                    </p>
                                    <p class="text-[11px] text-pink-400/25 mt-2 italic truncate">
                                        "{letter.message}"
                                    </p>
                                </a>
                            ))}
                        </div>
                    )
                }
            </div>
        </section>

        <!-- Tech stack -->
        <section class="py-12 sm:py-16 px-4 sm:px-6 border-t border-pink-500/8">
            <div class="max-w-3xl mx-auto text-center">
                <h2
                    class="font-display text-xl sm:text-2xl font-bold text-pink-200 mb-8"
                >
                    Built With
                </h2>
                <div class="flex flex-wrap justify-center gap-3">
                    {
                        [
                            "Astro",
                            "SolidJS",
                            "Three.js",
                            "GSAP",
                            "Tailwind CSS",
                        ].map((tech) => (
                            <span
                                class="px-3 py-1.5 rounded-full text-xs font-mono text-pink-300/50"
                                style="background: rgba(244,114,182,0.05); border: 1px solid rgba(244,114,182,0.08);"
                            >
                                {tech}
                            </span>
                        ))
                    }
                </div>
            </div>
        </section>

        <!-- Links -->
        <section class="py-12 sm:py-16 px-4 sm:px-6 border-t border-pink-500/8">
            <div class="max-w-3xl mx-auto text-center">
                <div class="flex flex-wrap justify-center gap-4 text-sm">
                    <a
                        href="/docs/schema"
                        class="text-pink-300/50 hover:text-pink-200 transition-colors"
                        >Schema ‚Üí</a
                    >
                    <a
                        href="/docs/roadmap"
                        class="text-pink-300/50 hover:text-pink-200 transition-colors"
                        >Roadmap ‚Üí</a
                    >
                    <a
                        href="https://github.com/arepodesir/open-valentines"
                        target="_blank"
                        rel="noopener"
                        class="text-pink-300/50 hover:text-pink-200 transition-colors"
                        >GitHub ‚Üí</a
                    >
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="py-8 px-4 border-t border-pink-500/8 text-center">
            <p class="text-xs text-pink-300/20">MIT License ¬∑ Made with ‚ô•</p>
        </footer>
    </main>
</Layout>
